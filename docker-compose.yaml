version: '2'

services:

  git:
    extends:
      file: services/git.yml
      service: git
    links:
      - 'db'
    depends_on:
      - 'db'

  mopidy:
    extends:
      file: services/mopidy.yml
      service: mopidy
    
  nextcloud:
    extends:
      file: services/nextcloud.yml
      service: nextcloud
    links:
      - 'db'
    depends_on:
      - 'db'
    
  huginn:
    extends:
      file: services/huginn/huginn.yml
      service: huginn
    links:
      - 'db'
    depends_on:
      - 'db'
    
  paperless_web:
    extends:
      file: services/paperless/paperless.yml
      service: paperless_web
    
  paperless_consumer:
    extends:
      file: services/paperless/paperless.yml
      service: paperless_consumer
    
  db:
    extends:
      file: services/db/db.yml
      service: db
    
  proxy:
    extends:
      file: services/proxy/proxy.yml
      service: proxy
    depends_on:
      - 'git'
      - 'mopidy'
      - 'nextcloud'
      - 'huginn'
      - 'paperless_web'

  dns:
    extends:
      file: services/dns/dns.yml
      service: dns
